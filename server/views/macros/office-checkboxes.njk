{% from "govuk/components/accordion/macro.njk" import govukAccordion %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

{% macro officeCheckboxes(id, items, errors) %}
  <div class="govuk-form-group {{ 'govuk-form-group--error' if errors }}">
    <h2 class="govuk-heading-m" id="officeCodes">Which office locations should the message be sent to?</h2>
    <p>In order to select all of the individual office locations within an area select the first item in the list, the 'all' option. This will subscribe you to all of the notifications for offices in the area now and in the future, including when office locations within the area are changed.</p>
    <p class="govuk-!-margin-bottom-5">When the all option for an area is selected, it overrides individual office location selections. If you wish to remove the subscription to all office locations within an area, ensure the all option is not selected and select the individual office locations required.</p>
    {% if errors %}
      <span id="officeCodes-error" class="govuk-error-message">
        <span class="govuk-visually-hidden">Error:</span> {{ errors.text }}
      </span>
    {% endif %}
    {{
      govukRadios({
        classes: 'govuk-radios--inline',
        idPrefix: 'allOffices',
        name: 'allOffices',
        fieldset: {
          legend: {
            text: 'Do you want to send the message to all office locations?',
            classes: 'govuk-fieldset__legend--s'
          }
        },
        hint: {
          text: 'This will override the selection of individual offices.'
        },
        items: [{
          value: 'yes',
          text: 'Yes'
        }, {
          value: 'no',
          text: 'No'
        }]
      })
    }}
    {{
      govukAccordion({
        id: id,
        items: items
      })
    }}
  </div>
{% endmacro %}
